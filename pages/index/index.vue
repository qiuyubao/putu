<template>
	<view class="index-page">
		<!-- é¡¶éƒ¨æ ‡é¢˜æ  -->
		<view class="header">
			<view class="title">24å°æ—¶è‡ªåŠ©æƒ…è¶£æˆäººç”¨å“å•†åŸ</view>
			<view class="search-bar" @click="goToSearch">

				<image class="icon" src="../../static/search.png" mode="widthfix"></image>
				<text class="search-placeholder">æœç´¢å•†å“</text>
			</view>
		</view>

		<!-- ä¸»æ¨ªå¹… -->
		<view class="banner">
			<view class="banner-content">
				<view class="banner-top">
					<view class="love-text">Love</view>
					<view class="heart-icon">ğŸ’–</view>
					<view class="recommend-text">
						<view class="crown-icon">ğŸ†</view>
						<text>è¶£ç½‘å¥½ç‰©æ¦œ</text>
						<text>èä½ æ‰€æƒ³</text>
					</view>
				</view>
				<view class="banner-title">äº²å¯†äº¤æµè£…å¤‡</view>
				<view class="banner-button">ç”¨ã€Œè¡ŒåŠ¨ã€è¡¨è¾¾çˆ±</view>
			</view>
		</view>

		<!-- å•†å“åˆ†ç±» -->
		<view class="category-section">
			<view class="category-item" v-for="(item, index) in categories" :key="index" @click="goToCategory(item)">
				<view class="category-icon" :style="{ backgroundColor: item.color }">
					<text class="icon-text">{{ item.icon }}</text>
				</view>
				<text class="category-name">{{ item.name }}</text>
			</view>
		</view>

		<!-- æ’è¡Œæ¦œ -->
		<view class="ranking-section">
			<view class="section-header">
				<view class="section-title">
					<view class="red-dot"></view>
					<text>æ’è¡Œæ¦œ</text>
				</view>
				<text class="section-subtitle">è¯šæ„æ¨èå“è´¨å•†å“</text>
				<text class="more-link">æ›´å¤š></text>
			</view>
			<scroll-view class="ranking-scroll" scroll-x="true">
				<view class="ranking-list">
					<view class="ranking-item" v-for="(item, index) in rankingProducts" :key="index">
						<view class="ranking-badge">{{ index + 1 }}</view>
						<view class="product-image">
							<image :src="item.image" mode="aspectFill"></image>
						</view>
						<view class="product-info">
							<view class="hot-tag">çƒ­åº¦TOP {{ index + 1 }}</view>
							<text class="product-name">{{ item.name }}</text>
						</view>
					</view>
				</view>
			</scroll-view>
		</view>

		<!-- æ–°å“æ¨è -->
		<view class="new-products-section">
			<view class="section-header">
				<view class="section-title">
					<view class="red-dot"></view>
					<text>é¦–å‘æ–°å“</text>
				</view>
				<text class="section-subtitle">æ–°å“æ¨è</text>
				<text class="more-link">æ›´å¤š></text>
			</view>
			<view class="new-products-list">
				<view class="new-product-item" v-for="(item, index) in newProducts" :key="index">
					<view class="product-image">
						<image :src="item.image" mode="aspectFill"></image>
					</view>
					<view class="product-info">
						<text class="product-name">{{ item.name }}</text>
						<text class="product-desc">{{ item.description }}</text>
					</view>
					<!-- <view class="product-action">
                        <view class="action-icon" v-if="index === 0">ğŸ </view>
                        <view class="action-icon" v-else>ğŸ›’</view>
                        <text class="action-text">{{ index === 0 ? 'ä¸‹å•é¡µ' : 'è´­ç‰©è½¦' }}</text>
                    </view> -->
				</view>
			</view>
		</view>
	</view>
</template>

<script>
	export default {
		data() {
			return {
				categories: [{
						name: 'ç”·æ€§ç”¨å“',
						icon: 'â™‚ï¸',
						color: '#FF6B6B'
					},
					{
						name: 'å¥³æ€§ç”¨å“',
						icon: 'â™€ï¸',
						color: '#9B59B6'
					},
					{
						name: 'é£æœºæ¯',
						icon: 'ğŸ¥¤',
						color: '#3498DB'
					},
					{
						name: 'æ¶¦æ»‘æ¶²',
						icon: 'ğŸ’§',
						color: '#F39C12'
					},
					{
						name: 'é¿å­•å¥—',
						icon: 'ğŸ›¡ï¸',
						color: '#2ECC71'
					}
				],
				rankingProducts: [{
						name: 'åæµé¿å­•å¥—æŒ...',
						image: '/static/images/product1.jpg'
					},
					{
						name: 'æœä¸é‚¦æƒ…è¶£éœ‡...',
						image: '/static/images/product2.jpg'
					},
					{
						name: 'ä¸‡å­š è‰¾æ»‹ç—…æ£€...',
						image: '/static/images/product3.jpg'
					},
					{
						name: 'åæµé¿å­•å¥—æŒ...',
						image: '/static/images/product1.jpg'
					},
					{
						name: 'æœä¸é‚¦æƒ…è¶£éœ‡...',
						image: '/static/images/product2.jpg'
					},
					{
						name: 'ä¸‡å­š è‰¾æ»‹ç—…æ£€...',
						image: '/static/images/product3.jpg'
					}
				],
				newProducts: [{
						name: 'è¡€å”¾äºŒåˆä¸€æ£€æµ‹',
						description: 'ACCUR GEASY é˜²æ¼æ£€ä¸“åˆ©æŠ€æœ¯',
						image: '/static/images/new1.jpg'
					},
					{
						name: 'HIV 1/2æ£€æµ‹',
						description: 'é›…åŸ¹ Abbott çº¿ä¸‹åŒæ¬¾ ç°è´§é€Ÿå‘',
						image: '/static/images/new2.jpg'
					},
					{
						name: 'è¡€å”¾äºŒåˆä¸€æ£€æµ‹',
						description: 'ACCUR GEASY é˜²æ¼æ£€ä¸“åˆ©æŠ€æœ¯',
						image: '/static/images/new1.jpg'
					},
					{
						name: 'HIV 1/2æ£€æµ‹',
						description: 'é›…åŸ¹ Abbott çº¿ä¸‹åŒæ¬¾ ç°è´§é€Ÿå‘',
						image: '/static/images/new2.jpg'
					},
					{
						name: 'è¡€å”¾äºŒåˆä¸€æ£€æµ‹',
						description: 'ACCUR GEASY é˜²æ¼æ£€ä¸“åˆ©æŠ€æœ¯',
						image: '/static/images/new1.jpg'
					},
					{
						name: 'HIV 1/2æ£€æµ‹',
						description: 'é›…åŸ¹ Abbott çº¿ä¸‹åŒæ¬¾ ç°è´§é€Ÿå‘',
						image: '/static/images/new2.jpg'
					}
				]
			}
		},

		// é¦–é¡µæœç´¢è·³è½¬ç¬¬äºŒé¦–
		methods: {
			goToSearch() {
				uni.navigateTo({
					url: '/pages/search/search'
				})
			},
			goToCategory(item) {
				uni.navigateTo({
					url: `/pages/category/category?type=${item.name}`
				})
			}
		}
	}
</script>

<style scoped>
	.index-page {
		background-color: #F8F8F8;
		min-height: 100vh;
	}

	/* é¡¶éƒ¨æ ‡é¢˜æ  */
	.header {
		background: linear-gradient(135deg, #FF69B4, #FF1493);
		padding: 20rpx 30rpx 30rpx;
		color: white;
	}

	.title {
		font-size: 32rpx;
		font-weight: bold;
		text-align: center;
		margin-bottom: 20rpx;
	}

	.search-bar {
		background-color: rgba(255, 255, 255, 0.9);
		border-radius: 45rpx;
		padding: 20rpx 30rpx;
		display: flex;
		align-items: center;
		color: #999;
	}

	.search-icon {
		margin-right: 15rpx;
		font-size: 28rpx;
	}

	.search-placeholder {
		font-size: 28rpx;
		color: #999;
	}

	/* ä¸»æ¨ªå¹… */
	.banner {
		background: linear-gradient(135deg, #4A148C, #7B1FA2);
		margin: 20rpx 30rpx;
		border-radius: 20rpx;
		padding: 40rpx 30rpx;
		position: relative;
		overflow: hidden;
	}

	.banner::before {
		content: '';
		position: absolute;
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		background: linear-gradient(45deg, transparent 30%, rgba(255, 255, 255, 0.1) 50%, transparent 70%);
		animation: shimmer 3s infinite;
	}

	@keyframes shimmer {
		0% {
			transform: translateX(-100%);
		}

		100% {
			transform: translateX(100%);
		}
	}

	.banner-content {
		position: relative;
		z-index: 1;
	}

	.banner-top {
		display: flex;
		justify-content: space-between;
		align-items: center;
		margin-bottom: 20rpx;
	}

	.love-text {
		font-size: 36rpx;
		font-weight: bold;
		color: #FF69B4;
		font-style: italic;
	}

	.heart-icon {
		font-size: 24rpx;
		margin-left: 10rpx;
	}

	.recommend-text {
		display: flex;
		align-items: center;
		font-size: 24rpx;
		color: #FFD700;
	}

	.crown-icon {
		margin-right: 10rpx;
		font-size: 20rpx;
	}

	.banner-title {
		font-size: 48rpx;
		font-weight: bold;
		color: #FF69B4;
		text-align: center;
		margin: 30rpx 0;
		text-shadow: 0 0 20rpx rgba(255, 105, 180, 0.5);
	}

	.banner-button {
		background: linear-gradient(90deg, #00BFFF, #1E90FF);
		color: white;
		padding: 20rpx 40rpx;
		border-radius: 50rpx;
		text-align: center;
		font-size: 28rpx;
		font-weight: bold;
		box-shadow: 0 4rpx 20rpx rgba(0, 191, 255, 0.3);
		border: 2rpx solid rgba(255, 255, 255, 0.3);
	}

	/* å•†å“åˆ†ç±» */
	.category-section {
		display: flex;
		justify-content: space-around;
		padding: 40rpx 30rpx;
		background-color: white;
		margin: 20rpx 30rpx;
		border-radius: 20rpx;
		box-shadow: 0 4rpx 20rpx rgba(0, 0, 0, 0.08);
	}

	.category-item {
		display: flex;
		flex-direction: column;
		align-items: center;
		flex: 1;
	}

	.category-icon {
		width: 100rpx;
		height: 100rpx;
		border-radius: 50%;
		display: flex;
		align-items: center;
		justify-content: center;
		margin-bottom: 15rpx;
		box-shadow: 0 4rpx 15rpx rgba(0, 0, 0, 0.1);
	}

	.icon-text {
		font-size: 40rpx;
	}

	.category-name {
		font-size: 24rpx;
		color: #333;
		text-align: center;
	}

	/* æ’è¡Œæ¦œ *//* CSS æ ·å¼ */
	.ranking-section {
		 /* å®¹å™¨æ•´ä½“æ ·å¼ */
		background-color: white;
		margin: 20rpx 30rpx; /* å±…ä¸­æ˜¾ç¤º */
		border-radius: 20rpx;
		padding: 30rpx;
		box-shadow: 0 4rpx 20rpx rgba(0, 0, 0, 0.08);/* è½»å¾®é˜´å½±å¢åŠ å±‚æ¬¡æ„Ÿ */
	}

	.section-header {
		display: flex;
		align-items: center;
		margin-bottom: 30rpx;
	}

	.section-title {
		display: flex;
		align-items: center;
		margin-right: 20rpx;
	}

	.red-dot {
		width: 12rpx;
		height: 12rpx;
		background-color: #FF6B6B;
		border-radius: 50%;
		margin-right: 10rpx;
	}

	.section-subtitle {
		font-size: 24rpx;
		color: #666;
		margin-right: auto;
	}

	.more-link {
		font-size: 24rpx;
		color: #FF69B4;
	}

	.ranking-scroll {
		white-space: nowrap;
	}

	.ranking-list {
		display: flex;
		gap: 20rpx;
	}

	.ranking-item {
		position: relative;
		background-color: #FFF5F5;
		border-radius: 15rpx;
		padding: 20rpx;
		min-width: 200rpx;
		box-shadow: 0 2rpx 10rpx rgba(0, 0, 0, 0.05);
	}

	.ranking-badge {
		position: absolute;
		top: -10rpx;
		left: -10rpx;
		width: 40rpx;
		height: 40rpx;
		background: linear-gradient(135deg, #FFD700, #FFA500);
		border-radius: 50%;
		display: flex;
		align-items: center;
		justify-content: center;
		color: white;
		font-weight: bold;
		font-size: 20rpx;
		box-shadow: 0 2rpx 8rpx rgba(255, 215, 0, 0.3);
	}

	.product-image {
		width: 120rpx;
		height: 120rpx;
		margin: 0 auto 15rpx;
		border-radius: 10rpx;
		overflow: hidden;
		background-color: #F0F0F0;
	}

	.product-image image {
		width: 100%;
		height: 100%;
	}

	.product-info {
		text-align: center;
	}

	.hot-tag {
		background-color: #FF69B4;
		color: white;
		font-size: 20rpx;
		padding: 5rpx 15rpx;
		border-radius: 15rpx;
		margin-bottom: 10rpx;
		display: inline-block;
	}

	.product-name {
		font-size: 24rpx;
		color: #333;
		line-height: 1.4;
	}

	/* æ–°å“æ¨è */
	.new-products-section {
		background-color: white;
		margin: 20rpx 30rpx;
		border-radius: 20rpx;
		padding: 30rpx;
		box-shadow: 0 4rpx 20rpx rgba(0, 0, 0, 0.08);
	}
         /* å¼¹æ€§å®¹ */
	.new-products-list {
		 display: flex;         /* å¼¹æ€§å®¹ */ /* å°†è¯¥å…ƒç´ å®šä¹‰ä¸ºå¼¹æ€§å®¹å™¨ï¼Œå…¶å†…éƒ¨çš„å­å…ƒç´ ï¼ˆå­èŠ‚ç‚¹ï¼‰ä¼šæŒ‰ç…§å¼¹æ€§ç›’æ¨¡å‹è§„åˆ™æ’åˆ—ï¼ˆé»˜è®¤æ²¿æ°´å¹³æ–¹å‘ä¸€è¡Œæ’åˆ—ï¼‰ã€‚
		 */
		gap: 20rpx;
	}

	.new-product-item {
		flex: 1;
		background-color: #F8F9FA;
		border-radius: 15rpx;
		padding: 20rpx;
		position: relative;
	}

	.product-image {
		width: 100%;
		height: 150rpx;
		border-radius: 10rpx;
		overflow: hidden;
		background-color: #E9ECEF;
		margin-bottom: 15rpx;
	}

	.product-image image {
		width: 100%;
		height: 100%;
	}

	.product-info {
		margin-bottom:15rpx;
	}

	.product-name {
		font-size: 26rpx;
		color: #333;
		font-weight: bold;
		margin-bottom: 8rpx;
		display: block;
	}

	.product-desc {
		font-size: 22rpx;
		color: #666;
		line-height: 1.4;
		display: block;
	}

	.product-action {
		display: flex;
		flex-direction: column;
		align-items: center;
		position: absolute;
		bottom: 15rpx;
		left: 50%;
		transform: translateX(-50%);
	}

	.action-icon {
		font-size: 25rpx;
		margin-bottom: 5rpx;
	}

	.action-text {
		font-size: 20rpx;
		color: #FF69B4;
	}
	

</style>